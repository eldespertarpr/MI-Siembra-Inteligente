<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Mi Siembra Inteligente (v18)</title>
  <link rel="manifest" href="manifest.json" />
  <meta name="theme-color" content="#ffffff" />
  <style>
    /* CSS mÃ­nimo SOLO para el splash */
    body, html {
      margin: 0;
      padding: 0;
      background: #ffffff;
      font-family: system-ui, sans-serif;
    }

    #splash {
      position: fixed;
      inset: 0;
      background: #ffffff;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      z-index: 9999;
      opacity: 1;
      transition: opacity 0.6s ease-out;
    }

    #splash h1 {
      margin-top: 16px;
      font-weight: 700;
      font-size: 28px;
      color: #0f172a;
    }

    #splash p {
      margin-top: 4px;
      font-size: 16px;
      color: #475569;
    }

    #splash.fade-out {
      opacity: 0;
      pointer-events: none;
    }
  </style>
</head>

<body>

  <!-- ğŸŒ± SPLASH SCREEN -->
  <div id="splash">
    <div style="font-size:64px;">ğŸŒ±</div>
    <h1>Mi Siembra Inteligente</h1>
    <p>El huerto en tus manos</p>
  </div>

  <!-- ğŸŒ¿ APP CONTENEDOR -->
  <div id="app" style="display:none;">

    <header class="app-header">
      <div class="header-inner">
        <div class="brand">
          <div class="brand-icon"><span>ğŸŒ±</span></div>
          <div class="brand-text">
            <div class="brand-title">Mi Siembra Inteligente</div>
            <div class="brand-sub">Planifica, registra y cuida tu huerto paso a paso.</div>
          </div>
        </div>

        <nav class="pill-nav">
          <button class="nav-btn active" data-view="homeView">ğŸ  Inicio</button>
          <button class="nav-btn" data-view="calendarView">ğŸ“… Calendario</button>
          <button class="nav-btn" data-view="catalogView">ğŸŒ¿ CatÃ¡logo</button>
          <button class="nav-btn" data-view="moreView">â‹¯ MÃ¡s</button>
        </nav>
      </div>
    </header>

    <main>

      <!-- ğŸ  INICIO -->
      <section id="homeView" class="view active">
        <h2>Inicio</h2>
        <p>Elige quÃ© deseas hacer hoy.</p>

        <div class="home-buttons">
          <button data-view-target="calendarView">ğŸ“… QuÃ© sembrar este mes</button>
          <button data-view-target="catalogView">ğŸŒ¿ CatÃ¡logo de cultivos</button>
          <button data-view-target="gardenView">ğŸ§© Mi huerto</button>
          <button data-view-target="diaryView">ğŸ““ Diario</button>
          <button data-view-target="pestsView">ğŸª² Plagas y cuidados</button>
          <button data-view-target="fertView">ğŸ§ª Abonos y fertilizantes</button>
        </div>
      </section>

      <!-- ğŸ“… CALENDARIO -->
      <section id="calendarView" class="view">
        <h2>Â¿QuÃ© puedo sembrar este mes?</h2>
        <div id="monthButtons"></div>
        <div id="monthResults"></div>
      </section>

      <!-- ğŸŒ¿ CATÃLOGO -->
      <section id="catalogView" class="view">
        <h2>CatÃ¡logo visual de cultivos</h2>
        <input id="catalogSearch" placeholder="Buscar cultivo...">
        <div id="catalogTypeFilters"></div>
        <div id="catalogSunFilters"></div>
        <div id="catalogGrid"></div>
      </section>

      <!-- ğŸ§© MI HUERTO -->
      <section id="gardenView" class="view">
        <h2>Mi huerto</h2>
        <div id="gardenGrid"></div>
      </section>

      <!-- ğŸ““ DIARIO -->
      <section id="diaryView" class="view">
        <h2>Diario de siembra</h2>
        <button id="addDiaryEntry">â• AÃ±adir</button>
        <div id="diaryList"></div>
      </section>

      <!-- ğŸª² PLAGAS -->
      <section id="pestsView" class="view">
        <h2>Plagas y cuidados</h2>
        <button data-view-target="pestsCatalogView">ğŸ“š CatÃ¡logo de plagas</button>
        <button data-view-target="pesticidesView">ğŸ§´ Pesticidas caseros</button>
      </section>

      <!-- ğŸ“š CATÃLOGO DE PLAGAS -->
      <section id="pestsCatalogView" class="view">
        <h2>CatÃ¡logo de plagas</h2>
        <input id="pestSearch" placeholder="Buscar plaga...">
        <div id="pestTypeFilters"></div>
        <div id="pestsList"></div>
      </section>

      <!-- ğŸ§´ PESTICIDAS -->
      <section id="pesticidesView" class="view">
        <h2>Pesticidas caseros</h2>
        <input id="pesticideSearch" placeholder="Buscar pesticida...">
        <div id="pesticideTypeFilters"></div>
        <div id="pesticidesList"></div>
      </section>

      <!-- âš™ï¸ OPCIONES -->
      <section id="optionsView" class="view">
        <h2>Opciones y clima</h2>
        <div id="climateOptionsRow"></div>
        <p>Clima actual: <strong id="optionsClimateText"></strong></p>
      </section>

      <!-- â‹¯ MÃS -->
      <section id="moreView" class="view">
        <h2>MÃ¡s opciones</h2>

        <button data-view-target="gardenView">ğŸ§© Mi huerto</button>
        <button data-view-target="diaryView">ğŸ““ Diario</button>
        <button data-view-target="pestsView">ğŸª² Plagas</button>
        <button data-view-target="fertView">ğŸ§ª Abonos</button>
        <button id="backupExport">ğŸ’¾ Guardar copia</button>
        <button id="backupImport">ğŸ“‚ Restaurar copia</button>
        <input type="file" id="backupFile" accept="application/json" hidden />
      </section>

      <!-- ğŸ§ª ABONOS -->
      <section id="fertView" class="view">
        <h2>Abonos y fertilizantes</h2>
        <div id="fertList"></div>
      </section>

    </main>

    <footer>
      Mi Siembra Inteligente Â· Datos guardados solo en este dispositivo
    </footer>

  </div>

  <!-- AquÃ­ se insertarÃ¡ el JavaScript en las partes 3 y 4 -->
</body>
</html>
